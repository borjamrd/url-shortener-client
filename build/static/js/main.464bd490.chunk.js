(this["webpackJsonpurl-shortener"]=this["webpackJsonpurl-shortener"]||[]).push([[0],{144:function(e,t,r){},145:function(e,t,r){},146:function(e,t,r){},175:function(e,t,r){},176:function(e,t,r){},282:function(e,t,r){},283:function(e,t,r){},284:function(e,t,r){},285:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(28),s=r.n(c),o=(r(144),r(145),r(9)),i=(r(146),r(10)),l=r(290),u=r(291),j=r(134),d=r(1),b=function(){return Object(d.jsx)("footer",{style:{width:"100%",position:"relative",bottom:0,display:"flex",justifyContent:"center"},children:Object(d.jsx)(l.a,{children:Object(d.jsx)(u.a,{children:Object(d.jsxs)(j.a,{className:"text-center py-3",children:["Copyright \xa9 Url-shortener |"," ",Object(d.jsx)("a",{href:"https://github.com/borjamrd",children:"@borjamrd"})]})})})})},p=r(298),h=r(299),O=r(297),x=r(135),f=r(295),g=r(11),m=r(15),v=r(8),y=r.n(v),S="USER_LOGIN_REQUEST",C="USER_LOGIN_SUCCESS",U="USER_LOGIN_FAIL",E="USER_LOGOUT",L="USER_REGISTER_REQUEST",I="USER_REGISTER_SUCCESS",w="USER_REGISTER_FAIL",R="USER_UPDATE_REQUEST",_="USER_UPDATE_SUCCESS",N="USER_UPDATE_FAIL",k=r(25),T=r.n(k);var P=function(e){var t=e.setSearch,r=Object(i.f)(),a=Object(g.b)(),c=Object(g.c)((function(e){return e.userLogin})).userInfo;return Object(n.useEffect)((function(){}),[c]),Object(d.jsx)(p.a,{collapseOnSelect:!0,expand:"lg",bg:"primary",variant:"dark",children:Object(d.jsxs)(l.a,{children:[Object(d.jsx)(p.a.Brand,{href:"/",children:"Url shortener"}),Object(d.jsx)(p.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(d.jsxs)(p.a.Collapse,{id:"responsive-navbar-nav",children:[Object(d.jsx)(h.a,{className:"m-auto",children:c&&Object(d.jsx)(O.a,{inline:!0,children:Object(d.jsx)(x.a,{type:"text",placeholder:"Search",className:"mr-sm-2",onChange:function(e){return t(e.target.value)}})})}),Object(d.jsx)(h.a,{children:c?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(h.a.Link,{href:"/mis-urls",children:"Mis urls"}),Object(d.jsxs)(f.a,{title:"".concat(c.name),id:"collasible-nav-dropdown",children:[Object(d.jsx)(f.a.Item,{href:"/profile",children:"MI perfil"}),Object(d.jsx)(f.a.Divider,{}),Object(d.jsx)(f.a.Item,{onClick:function(){a(function(){var e=Object(m.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:E});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r("/")},children:"Cerrar sesi\xf3n"})]})]}):Object(d.jsx)(h.a.Link,{href:"/login",children:"Iniciar sesi\xf3n"})})]})]})})},A=r(7),D=r(292),F=r(136),G=r(293),z=r(14),B=(r(175),r(139)),H=r(296);var Q=function(){var e=Object(g.c)((function(e){return e.userLogin})).userInfo,t=Object(B.a)(),r=t.register,c=t.handleSubmit,s=a.a.useState(!1),j=Object(o.a)(s,2),b=j[0],p=j[1],h=Object(n.useState)(""),O=Object(o.a)(h,2),x=O[0],f=O[1],m=Object(n.useState)(""),v=Object(o.a)(m,2),y=v[0],S=v[1],C=Object(i.f)();function U(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(H.a,{show:e.show,onHide:e.handleClose,animation:!1,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(d.jsx)(H.a.Header,{closeButton:!0,children:Object(d.jsx)(H.a.Title,{children:"Enhorabuena! Aqu\xed tienes tu URL acortada:"})}),Object(d.jsxs)(H.a.Body,{children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Url original: "})," ",x]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Url acortada: "})," ",y," ",Object(d.jsx)("button",{onClick:function(){return navigator.clipboard.writeText("".concat(y))},children:"Copiar"},x._id)]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Clicks recibidos: "})," ",Object(d.jsxs)(D.a,{variant:"warning",children:["Debes ",Object(d.jsx)(z.b,{to:"/login",children:"iniciar sesi\xf3n"})," o"," ",Object(d.jsx)(z.b,{to:"/register",children:"crearte una cuenta"})]})," "]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"\xdaltima modificaci\xf3n: "})," ",Object(d.jsxs)(D.a,{variant:"warning",children:["Debes ",Object(d.jsx)(z.b,{to:"/login",children:"iniciar sesi\xf3n"})," o"," ",Object(d.jsx)(z.b,{to:"/register",children:"crearte una cuenta"})]})," "]})]}),Object(d.jsx)(H.a.Footer,{children:Object(d.jsx)(F.a,{variant:"secondary",onClick:e.handleClose,children:"Cerrar"})})]})})}return Object(n.useEffect)((function(){e&&C("/mis-urls")}),[C,e]),Object(d.jsx)("div",{className:"main",children:Object(d.jsxs)(l.a,{children:[Object(d.jsx)(u.a,{children:Object(d.jsxs)("div",{className:"intro-text",children:[Object(d.jsx)("div",{className:"wrapper",children:Object(d.jsx)("div",{className:"typing-demo",children:Object(d.jsx)("h1",{className:"title",children:"Url shortener"})})}),Object(d.jsx)("div",{className:"url-section",children:Object(d.jsxs)("form",{onSubmit:c((function(e){console.log("Result Form: ",e);var t=e.origUrl;console.log("orgiulr: ",t),(new URLSearchParams).append("origUrl","".concat(t));try{T()({method:"post",url:"http://localhost:5001/api/urls/createwauth",headers:{"Content-Type":"application/json"},data:{origUrl:t}}).then((function(e){var t=e.data;p(!0),f(t.origUrl),S(t.shortUrl)}))}catch(r){console.log(r)}})),children:[Object(d.jsxs)(G.a,{className:"mb-3",children:[Object(d.jsx)(G.a.Text,{id:"basic-addon3",children:"URL"}),Object(d.jsx)("input",Object(A.a)(Object(A.a)({type:"text"},r("origUrl",{required:!0})),{},{className:"url-landing"}))]}),Object(d.jsx)(F.a,{size:"lg",type:"submit",className:"acortar",children:"Acortar"})]})}),Object(d.jsxs)("div",{className:"buttonContainer",children:[Object(d.jsx)(z.b,{to:"/login",children:Object(d.jsx)(F.a,{size:"sm",className:"landingbutton",children:"Inicia sesi\xf3n"})}),Object(d.jsx)(z.b,{to:"/register",children:Object(d.jsx)(F.a,{variant:"outline-primary",size:"sm",className:"landingbutton",children:"Reg\xedstrate"})})]})]})}),Object(d.jsx)(U,{show:b,onHide:function(){return p(!1)}})]})})},J=r(300),q=r(301);r(176);var M=function(e){var t=e.children,r=e.title;return Object(d.jsx)("div",{className:"mainback",children:Object(d.jsx)(l.a,{children:Object(d.jsx)(u.a,{children:Object(d.jsxs)("div",{className:"page",children:[r&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{className:"heading",children:r}),Object(d.jsx)("hr",{})]}),t]})})})})},K=r(91),W=r.n(K),V="URLS_LIST_REQUEST",X="URLS_LIST_SUCCESS",Y="URLS_LIST_FAIL",Z="URLS_CREATE_REQUEST",$="URLS_CREATE_SUCCESS",ee="URLS_CREATE_FAIL",te="URLS_UPDATE_REQUEST",re="URLS_UPDATE_SUCCESS",ne="URLS_UPDATE_FAIL",ae="URLS_DELETE_REQUEST",ce="URLS_DELETE_SUCCESS",se="URLS_DELETE_FAIL",oe=function(e){return function(){var t=Object(m.a)(y.a.mark((function t(r,n){var a,c,s,o,i,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ae}),a=n(),c=a.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,T.a.delete("https://url-shortener-service-etj7.onrender.com/api/urls/orig/".concat(e),s);case 6:o=t.sent,i=o.data,r({type:ce,payload:i}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:se,payload:l});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},ie=function(e){return function(){var t=Object(m.a)(y.a.mark((function t(r,n){var a,c,s,o,i,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:te}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,T.a.put("https://url-shortener-service-etj7.onrender.com/api/urls/orig/".concat(e),s);case 6:o=t.sent,i=o.data,r({type:re,payload:i}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:ne,payload:l});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},le=r(294);var ue=function(e){var t=e.size,r=void 0===t?100:t;return Object(d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:Object(d.jsx)(le.a,{style:{width:r,height:r},animation:"border"})})},je=function(e){var t=e.variant,r=void 0===t?"info":t,n=e.children;return Object(d.jsx)(D.a,{variant:r,style:{fontSize:20},children:Object(d.jsx)("strong",{children:n})})};var de=function(e){var t=e.history,r=(e.search,Object(g.b)()),a=Object(g.c)((function(e){return e.urlList})),c=a.loading,s=a.error,o=(a.urls,Object(g.c)((function(e){return e.userLogin})).userInfo),i=Object(g.c)((function(e){return e.urlDelete})),l=i.loading,u=i.error,j=i.success,b=Object(g.c)((function(e){return e.urlCreate})).success,p=Object(g.c)((function(e){return e.urlUpdate})).success;return Object(n.useEffect)((function(){r(function(){var e=Object(m.a)(y.a.mark((function e(t,r){var n,a,c,s,o,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:V}),n=r(),a=n.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(a.token)}},e.next=6,T.a.get("https://url-shortener-service-etj7.onrender.com/api/urls/",c);case 6:s=e.sent,o=s.data,t({type:X,payload:o}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),i=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,t({type:Y,payload:i});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()),o||t.push("/orig/")}),[r,t,o,j,b,p]),Object(d.jsxs)(M,{title:"Hola de nuevo ".concat(o&&o.name,"."),children:[console.log(a),Object(d.jsx)(z.b,{to:"/crear-url",children:Object(d.jsx)(F.a,{style:{marginLeft:10,marginBottom:6},size:"lg",children:"Crear una nueva URL"})}),s&&Object(d.jsx)(je,{variant:"danger",children:s}),u&&Object(d.jsx)(je,{variant:"danger",children:u}),c&&Object(d.jsx)(ue,{}),l&&Object(d.jsx)(ue,{}),a.URLS&&a.URLS.map((function(e,t){return Object(d.jsx)(J.a,{children:Object(d.jsxs)(q.a,{style:{margin:10},children:[Object(d.jsxs)(q.a.Header,{style:{display:"flex"},children:[Object(d.jsx)("span",{style:{color:"black",textDecoration:"none",flex:1,cursor:"pointer",alignSelf:"center",fontSize:18},children:Object(d.jsxs)(J.a.Toggle,{as:q.a.Text,variant:"link",eventKey:"0",children:[Object(d.jsx)("strong",{children:"URL acortada: "})," ",e.shortUrl," ","",Object(d.jsx)("button",{onClick:function(){return navigator.clipboard.writeText("".concat(e.shortUrl))},children:"Copiar"},e._id)]})}),Object(d.jsxs)("div",{children:[Object(d.jsx)(F.a,{href:"/urls/orig/".concat(e._id),onClick:function(){return t=e._id,void r(ie(t));var t},children:"Modificar"}),Object(d.jsx)(F.a,{variant:"danger",className:"mx-2",onClick:function(){return t=e._id,void(window.confirm("Est\xe1s seguro?")&&(r(oe(t)),alert("URL eliminada con \xe9xito")));var t},children:"Eliminar"})]},t)]}),Object(d.jsx)(J.a.Collapse,{eventKey:"0",children:Object(d.jsxs)(q.a.Body,{children:[Object(d.jsxs)("h6",{children:[Object(d.jsx)("strong",{children:"URL original"})," ",e.origUrl]}),Object(d.jsxs)("h6",{children:[Object(d.jsx)("strong",{children:"\xdaltima modificaci\xf3n"})," ",e.updatedAt]}),Object(d.jsxs)("h6",{children:[Object(d.jsx)("strong",{children:"Clicks realizados"})," ",e.clicks]}),Object(d.jsxs)("blockquote",{className:"blockquote mb-0",children:[Object(d.jsx)(W.a,{children:e.content}),Object(d.jsxs)("footer",{className:"blockquote-footer",children:["Fecha de creaci\xf3n"," ",Object(d.jsx)("cite",{title:"Source Title",children:e.createdAt.substring(0,10)})]})]})]})})]})},t)}))]})};var be=function(){var e=Object(i.g)(),t=Object(i.f)(),r=Object(n.useState)(),a=Object(o.a)(r,2),c=a[0],s=a[1],l=Object(n.useState)(""),u=Object(o.a)(l,2),j=u[0],b=u[1],p=Object(g.b)(),h=Object(g.c)((function(e){return e.urlUpdate})),x=h.loading,f=h.error,v=Object(g.c)((function(e){return e.urlDelete})),S=v.loading,C=v.error;return Object(n.useEffect)((function(){var t=function(){var t=Object(m.a)(y.a.mark((function t(){var r,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("http://localhost:5001/api/urls/".concat(e.id));case 2:r=t.sent,n=r.data,s(n.origUrl),b(n.updatedAt);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.id,j]),Object(d.jsx)(M,{origUrl:"Editar Url",children:Object(d.jsxs)(q.a,{children:[Object(d.jsx)(q.a.Header,{children:"Edita tu URL"}),Object(d.jsx)(q.a.Body,{children:Object(d.jsxs)(O.a,{onSubmit:function(r){r.preventDefault(),p(ie(e.id)),alert("modificado con \xe9xito"),s(""),t("/mis-urls")},children:[S&&Object(d.jsx)(ue,{}),f&&Object(d.jsx)(je,{variant:"danger",children:f}),C&&Object(d.jsx)(je,{variant:"danger",children:C}),Object(d.jsxs)(O.a.Group,{controlId:"origUrl",children:[Object(d.jsx)(O.a.Label,{children:"Modifica tu url"}),Object(d.jsx)(O.a.Control,{type:"origUrl",placeholder:"Enter the origUrl",value:c,onChange:function(e){return s(e.target.value)}})]}),x&&Object(d.jsx)(ue,{size:50}),Object(d.jsx)(F.a,{variant:"primary",type:"submit",children:"Actualizar url"}),Object(d.jsx)(F.a,{className:"mx-2",variant:"danger",onClick:function(){return r=e.id,window.confirm("Est\xe1s seguro?")&&(p(oe(r)),alert("Nota eliminada con \xe9xito")),void t("/mis-urls");var r},children:"Borrar url"})]})}),Object(d.jsxs)(q.a.Footer,{className:"text-muted",children:["Updated on - ",j.substring(0,10)]})]})})};r(282);var pe=function(){var e=Object(i.f)(),t=Object(n.useState)(""),r=Object(o.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),b=l[0],p=l[1],h=Object(g.b)(),x=Object(g.c)((function(e){return e.userLogin})),f=x.loading,v=x.error,E=x.userInfo;return Object(n.useEffect)((function(){E&&e("/mis-urls")}),[e,E]),Object(d.jsx)(M,{title:"Iniciar sesi\xf3n",children:Object(d.jsxs)("div",{className:"loginContainer",children:[v&&Object(d.jsx)(je,{variant:"danger",children:v}),f&&Object(d.jsx)(ue,{}),Object(d.jsxs)(O.a,{onSubmit:function(e){e.preventDefault(),h(function(e,t){return function(){var r=Object(m.a)(y.a.mark((function r(n){var a,c,s;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:S}),a={headers:{"Content-type":"application/json"}},r.next=5,T.a.post("https://url-shortener-service-etj7.onrender.com/api/users/login",{email:e,password:t},a);case 5:c=r.sent,s=c.data,n({type:C,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:U,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(a,b))},children:[Object(d.jsxs)(O.a.Group,{controlId:"formBasicEmail",children:[Object(d.jsx)(O.a.Label,{children:"Correo electr\xf3nico"}),Object(d.jsx)(O.a.Control,{type:"email",value:a,placeholder:"Enter email",onChange:function(e){return c(e.target.value)}})]}),Object(d.jsxs)(O.a.Group,{controlId:"formBasicPassword",children:[Object(d.jsx)(O.a.Label,{children:"Contrase\xf1a"}),Object(d.jsx)(O.a.Control,{type:"password",value:b,placeholder:"Password",onChange:function(e){return p(e.target.value)}})]}),Object(d.jsx)(F.a,{variant:"primary",type:"submit",children:"Acceder"})]}),Object(d.jsx)(u.a,{className:"py-3",children:Object(d.jsxs)(j.a,{children:["\xbfNo tienes usuario y contrase\xf1a? ",Object(d.jsx)(z.b,{to:"/register",children:"Reg\xedstrate"})]})})]})})};r(283);var he=function(){var e=Object(i.f)(),t=Object(n.useState)(""),r=Object(o.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)(""),l=Object(o.a)(s,2),b=l[0],p=l[1],h=Object(n.useState)("https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg"),x=Object(o.a)(h,2),f=x[0],v=x[1],S=Object(n.useState)(""),U=Object(o.a)(S,2),E=U[0],R=U[1],_=Object(n.useState)(""),N=Object(o.a)(_,2),k=N[0],P=N[1],A=Object(n.useState)(null),D=Object(o.a)(A,2),G=D[0],B=D[1],H=Object(n.useState)(null),Q=Object(o.a)(H,2),J=Q[0],q=Q[1],K=Object(g.b)(),W=Object(g.c)((function(e){return e.userRegister})),V=W.loading,X=W.error,Y=W.userInfo;return Object(n.useEffect)((function(){Y&&e("/")}),[e,Y]),Object(d.jsx)(M,{title:"Reg\xedstrate",children:Object(d.jsxs)("div",{className:"loginContainer",children:[X&&Object(d.jsx)(je,{variant:"danger",children:X}),G&&Object(d.jsx)(je,{variant:"danger",children:G}),V&&Object(d.jsx)(ue,{}),Object(d.jsxs)(O.a,{onSubmit:function(e){e.preventDefault(),E!==k?B("Passwords do not match"):K(function(e,t,r,n){return function(){var a=Object(m.a)(y.a.mark((function a(c){var s,o,i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:L}),s={headers:{"Content-type":"application/json"}},a.next=5,T.a.post("https://url-shortener-service-etj7.onrender.com/api/users/",{name:e,pic:n,email:t,password:r},s);case 5:o=a.sent,i=o.data,c({type:I,payload:i}),c({type:C,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),c({type:w,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(b,a,E,f))},children:[Object(d.jsxs)(O.a.Group,{controlId:"name",children:[Object(d.jsx)(O.a.Label,{children:"Nombre"}),Object(d.jsx)(O.a.Control,{type:"name",value:b,placeholder:"Enter name",onChange:function(e){return p(e.target.value)}})]}),Object(d.jsxs)(O.a.Group,{controlId:"formBasicEmail",children:[Object(d.jsx)(O.a.Label,{children:"Correo electr\xf3nico"}),Object(d.jsx)(O.a.Control,{type:"email",value:a,placeholder:"Enter email",onChange:function(e){return c(e.target.value)}})]}),Object(d.jsxs)(O.a.Group,{controlId:"formBasicPassword",children:[Object(d.jsx)(O.a.Label,{children:"Contrase\xf1a"}),Object(d.jsx)(O.a.Control,{type:"password",value:E,placeholder:"Password",onChange:function(e){return R(e.target.value)}})]}),Object(d.jsxs)(O.a.Group,{controlId:"confirmPassword",children:[Object(d.jsx)(O.a.Label,{children:"Confirm Password"}),Object(d.jsx)(O.a.Control,{type:"password",value:k,placeholder:"Confirm Password",onChange:function(e){return P(e.target.value)}})]}),J&&Object(d.jsx)(je,{variant:"danger",children:J}),Object(d.jsxs)(O.a.Group,{controlId:"pic",children:[Object(d.jsx)(O.a.Label,{children:"Profile Picture"}),Object(d.jsx)(O.a.File,{onChange:function(e){return function(e){if("https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg"===e)return q("Please Select an Image");if(q(null),"image/jpeg"!==e.type&&"image/png"!==e.type)return q("Please Select an Image");var t=new FormData;t.append("file",e),t.append("upload_preset","notezipper"),t.append("cloud_name","piyushproj"),fetch("https://api.cloudinary.com/v1_1/piyushproj/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){v(e.url.toString())})).catch((function(e){console.log(e)}))}(e.target.files[0])},id:"custom-file",type:"image/png",label:"Upload Profile Picture",custom:!0})]}),Object(d.jsx)(F.a,{variant:"primary",type:"submit",children:"Register"})]}),Object(d.jsx)(u.a,{className:"py-3",children:Object(d.jsxs)(j.a,{children:["Have an Account ? ",Object(d.jsx)(z.b,{to:"/login",children:"Login"})]})})]})})};var Oe=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),r=t[0],a=t[1],c=Object(g.b)(),s=Object(i.f)(),l=Object(g.c)((function(e){return e.urlCreate})),u=l.loading,j=l.error,b=l.url;console.log(r,"origin url"),console.log(b,"url");var p=function(){a("")};return Object(n.useEffect)((function(){}),[]),Object(d.jsx)(M,{title:"Crear una url",children:Object(d.jsxs)(q.a,{children:[Object(d.jsx)(q.a.Header,{children:"Crea una nueva URL"}),Object(d.jsx)(q.a.Body,{children:Object(d.jsxs)(O.a,{onSubmit:function(e){e.preventDefault(),c(function(e){return function(){var t=Object(m.a)(y.a.mark((function t(r,n){var a,c,s,o,i,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Z}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,T.a.post("https://url-shortener-service-etj7.onrender.com/api/urls/create",{origUrl:e},s);case 6:o=t.sent,i=o.data,r({type:$,payload:i}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message,r({type:ee,payload:l});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(r)),r&&(p(),s("/mis-urls"))},children:[j&&Object(d.jsx)(je,{variant:"danger",children:j}),Object(d.jsxs)(O.a.Group,{controlId:"title",children:[Object(d.jsx)(O.a.Label,{children:"URL"}),Object(d.jsx)(O.a.Control,{type:"url",value:r,placeholder:"Entroduce una URL",onChange:function(e){return a(e.target.value)}})]}),u&&Object(d.jsx)(ue,{size:50}),Object(d.jsx)(F.a,{type:"submit",variant:"primary",children:"Crear URL"}),Object(d.jsx)(F.a,{className:"mx-2",onClick:p,variant:"danger",children:"Limpiar campos"})]})}),Object(d.jsxs)(q.a.Footer,{className:"text-muted",children:["Creating on - ",(new Date).toLocaleDateString()]})]})})},xe=(r(284),function(e){var t=e.history,r=Object(n.useState)(""),a=Object(o.a)(r,2),c=a[0],s=a[1],i=Object(n.useState)(""),l=Object(o.a)(i,2),b=l[0],p=l[1],h=Object(n.useState)(),x=Object(o.a)(h,2),f=x[0],v=x[1],S=Object(n.useState)(""),U=Object(o.a)(S,2),E=U[0],L=U[1],I=Object(n.useState)(""),w=Object(o.a)(I,2),k=w[0],P=w[1],A=Object(n.useState)(),D=Object(o.a)(A,2),G=D[0],z=D[1],B=Object(g.b)(),H=Object(g.c)((function(e){return e.userLogin})).userInfo,Q=Object(g.c)((function(e){return e.userUpdate})),J=Q.loading,q=Q.error,K=Q.success;Object(n.useEffect)((function(){H?(s(H.name),p(H.email),v(H.pic)):t.push("/")}),[t,H]);return Object(d.jsx)(M,{title:"EDIT PROFILE",children:Object(d.jsx)("div",{children:Object(d.jsxs)(u.a,{className:"profileContainer",children:[Object(d.jsx)(j.a,{md:6,children:Object(d.jsxs)(O.a,{onSubmit:function(e){var t;e.preventDefault(),B((t={name:c,email:b,password:E,pic:f},function(){var e=Object(m.a)(y.a.mark((function e(r,n){var a,c,s,o,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r({type:R}),a=n(),c=a.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,T.a.post("https://url-shortener-service-etj7.onrender.com/api/users/profile",t,s);case 6:o=e.sent,i=o.data,r({type:_,payload:i}),r({type:C,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),r({type:N,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[J&&Object(d.jsx)(ue,{}),K&&Object(d.jsx)(je,{variant:"success",children:"Updated Successfully"}),q&&Object(d.jsx)(je,{variant:"danger",children:q}),Object(d.jsxs)(O.a.Group,{controlId:"name",children:[Object(d.jsx)(O.a.Label,{children:"Name"}),Object(d.jsx)(O.a.Control,{type:"text",placeholder:"Enter Name",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(d.jsxs)(O.a.Group,{controlId:"email",children:[Object(d.jsx)(O.a.Label,{children:"Email Address"}),Object(d.jsx)(O.a.Control,{type:"email",placeholder:"Enter Email",value:b,onChange:function(e){return p(e.target.value)}})]}),Object(d.jsxs)(O.a.Group,{controlId:"password",children:[Object(d.jsx)(O.a.Label,{children:"Password"}),Object(d.jsx)(O.a.Control,{type:"password",placeholder:"Enter Password",value:E,onChange:function(e){return L(e.target.value)}})]}),Object(d.jsxs)(O.a.Group,{controlId:"confirmPassword",children:[Object(d.jsx)(O.a.Label,{children:"Confirm Password"}),Object(d.jsx)(O.a.Control,{type:"password",placeholder:"Confirm Password",value:k,onChange:function(e){return P(e.target.value)}})]})," ",G&&Object(d.jsx)(je,{variant:"danger",children:G}),Object(d.jsxs)(O.a.Group,{controlId:"pic",children:[Object(d.jsx)(O.a.Label,{children:"Change Profile Picture"}),Object(d.jsx)(O.a.File,{onChange:function(e){return function(e){if(z(null),"image/jpeg"!==e.type&&"image/png"!==e.type)return z("Please Select an Image");var t=new FormData;t.append("file",e),t.append("upload_preset","notezipper"),t.append("cloud_name","piyushproj"),fetch("https://api.cloudinary.com/v1_1/piyushproj/image/upload",{method:"post",body:t}).then((function(e){return e.json()})).then((function(e){v(e.url.toString()),console.log(f)})).catch((function(e){console.log(e)}))}(e.target.files[0])},id:"custom-file",type:"image/png",label:"Upload Profile Picture",custom:!0})]}),Object(d.jsx)(F.a,{type:"submit",varient:"primary",children:"Update"})]})}),Object(d.jsx)(j.a,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(d.jsx)("img",{src:f,alt:c,className:"profilePic"})})]})})})});var fe=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),r=(t[0],t[1]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(P,{setSearch:function(e){return r(e)}}),Object(d.jsx)("main",{className:"App",children:Object(d.jsxs)(i.c,{children:[Object(d.jsx)(i.a,{path:"/",element:Object(d.jsx)(Q,{})}),Object(d.jsx)(i.a,{path:"/login",element:Object(d.jsx)(pe,{})}),Object(d.jsx)(i.a,{path:"/register",element:Object(d.jsx)(he,{})}),Object(d.jsx)(i.a,{path:"/mis-urls",element:Object(d.jsx)(de,{})}),Object(d.jsx)(i.a,{path:"/urls/orig/:id",element:Object(d.jsx)(be,{})}),Object(d.jsx)(i.a,{path:"/crear-url",element:Object(d.jsx)(Oe,{})}),";",Object(d.jsx)(i.a,{path:"/profile",element:Object(d.jsx)(xe,{})})]})}),Object(d.jsx)(b,{})]})},ge=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,302)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},me=r(61),ve=r(138),ye=r(137),Se=Object(me.combineReducers)({urlList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{URLS:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return{loading:!0};case X:return{loading:!1,URLS:t.payload};case Y:return{loading:!1,error:t.payload};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0};case C:return{loading:!1,userInfo:t.payload};case U:return{loading:!1,error:t.payload};case E:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{loading:!0};case I:return{loading:!1,userInfo:t.payload};case w:return{loading:!1,error:t.payload};default:return e}},urlCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{loading:!0};case $:return{loading:!1,success:!0};case ee:return{loading:!1,error:t.payload};default:return e}},urlDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{loading:!0};case ce:return{loading:!1,success:!0};case se:return{loading:!1,error:t.payload,success:!1};default:return e}},urlUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0};case re:return{loading:!1,success:!0};case ne:return{loading:!1,error:t.payload,success:!1};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case _:return{loading:!1,userInfo:t.payload,success:!0};case N:return{loading:!1,error:t.payload,success:!1};default:return e}}}),Ce={userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},Ue=[ve.a],Ee=Object(me.createStore)(Se,Ce,Object(ye.composeWithDevTools)(me.applyMiddleware.apply(void 0,Ue)));s.a.render(Object(d.jsx)(g.a,{store:Ee,children:Object(d.jsx)(z.a,{children:Object(d.jsx)(fe,{})})}),document.getElementById("root")),ge()}},[[285,1,2]]]);
//# sourceMappingURL=main.464bd490.chunk.js.map